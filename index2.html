<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./anime.js"></script>
    <script src="./letterize.min.js"></script>

    <style>
        h1 {
            position: relative;
            margin-top: 55px;
        }
        
        span {
            display: inline-block;
            font: 26px Monaco, MonoSpace;
            position: absolute;
            left: 0;
            top: 0;
            transform-origin: center;
            position: relative;
        }
        
        h1 {
            text-align: center;
            margin: auto;
            margin-top: 22vw;
            width: 220px;
            position: absolute;
            left: 200px;
            text-transform: uppercase;
        }
        
        h1:first-child {
            margin-top: 20vw;
        }
        
        .card {
            overflow: hidden;
            width: 240px;
            height: 400px;
            background-color: #e84e10;
            position: relative;
        }
        
        .el {
            width: 28px;
            height: 28px;
            background: gray;
            border-radius: 14px;
            display: block;
        }
        
        .card__textCard {
            text-align: center;
        }
        
        .card__imgWrapper {
            padding: 0;
            box-shadow: 0 0 11px 0px #fff;
            border-radius: 100px;
            width: 160px;
            margin: auto;
            text-align: center;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 82px;
        }
        
        .initImg {
            width: 1271px;
            position: relative;
            left: -25px;
        }
        
        .card__textCard {
            position: absolute;
            right: 0;
            left: 0;
            bottom: 52px;
            margin: auto;
        }
        
        .card__textCard img {
            position: relative;
        }
        
        .card__textCard1>img:first-child {
            width: 200px;
        }
        
        .card__textCard1>img:last-child {
            bottom: 14px;
            width: 188px;
        }
        
        .card__textCard2 {
            left: -33px;
            bottom: 48px;
        }
        
        .card__textCard2>img:first-child {
            width: 126px;
            right: 25px;
        }
        
        .card__textCard2>img:last-child {
            width: 180px;
            bottom: 20px;
        }
        
        .card__textCard3 {
            left: -14px;
            bottom: 64px;
        }
        
        .card__textCard3>img:first-child {
            width: 165px;
            right: -2px;
        }
        
        .card__textCard3>img:last-child {
            width: 196px;
            left: 19px;
            bottom: 13px;
        }
        
        .card__textCard4>img:first-child {
            width: 169px;
            right: 16px;
        }
        
        .card__textCard4>img:last-child {
            bottom: 19px;
            width: 215px;
        }
        
        .card__image {
            width: 100%;
        }
        
        .logo {
            width: 190px;
            display: block;
            margin: auto;
            top: 178px;
            position: absolute;
            left: 0;
            right: 0;
            /* opacity: 0; */
            border: none;
            box-shadow: none;
        }
        
        .link {
            color: #fff;
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            margin: auto;
            text-align: center;
            /* opacity: 0; */
        }
        
        .link span {
            opacity: 0;
            font-size: 18px;
        }
        
        .card__imgParttop>img,
        .card__imgPartbot>img {
            width: 20px;
            /* height: 30px; */
        }
        
        .card__imgParttop {
            position: absolute;
            top: -100px;
            left: 0;
            width: 112%;
        }
        
        .card__imgPartbot {
            position: absolute;
            top: -45px;
            left: 0;
            right: 14px;
        }
        
        .card__textCard1 .card__imgPartbot {
            left: 15px;
        }
        
        .card__textCard2 .card__imgParttop {
            top: -110px;
            left: -44px;
        }
        
        .card__textCard2 .card__imgPartbot>img,
        .card__textCard2 .card__imgParttop>img {
            width: 21px;
        }
        
        .card__textCard2 .card__imgPartbot {
            top: -73px;
        }
        
        .card__textCard3 .card__imgPartbot>img,
        .card__textCard3 .card__imgParttop>img {
            width: 11px;
        }
        
        .card__textCard3 .card__imgParttop {
            left: -15px;
        }
        
        .card__textCard3 .card__imgPartbot>img {
            width: 12px;
        }
        
        .card__textCard3 .card__imgPartbot {
            top: -56px;
            left: 0;
            right: -36px;
        }
    </style>
</head>

<body>
    <!-- <input type="range" min="0" max="5" id="speed" value="1" step="0.01" /> -->
    <img class="initImg" src="https://reachandtarget-my.sharepoint.com/personal/olga_reachandtarget_com/Documents/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B%20%D1%87%D0%B0%D1%82%D0%BE%D0%B2%20Microsoft%20Teams/2021-05-26%2023.10.58.jpg" alt="" />
    <!-- <h1 id="test">1234567890</h1>
    <h1 id="test2">на спорт!</h1> -->
    <br />
    <div class="card">
        <div class="card__imgWrapper">
            <img src="./1.svg" alt="" class="card__image" />
        </div>
        <!-- Chapter1 -->
        <div class="card__textCard card__textCard1">
            <div class="card__imgParttop">
                <img src="./letters_img/1_top/d.svg" alt="" /><img style="height: 40px" src="./letters_img/1_top/e.svg" alt="" /><img src="./letters_img/1_top/l.svg" style="height: 34px; top: 4px; right: 3px" alt="" /><img style="height: 29px; top: 7px; right: 3px"
                    src="./letters_img/1_top/a_cur.svg" alt="" /><img style="height: 34px; top: 9px; right: 5px" src="./letters_img/1_top/ik.svg" alt="" /><img style="height: 24px; top: 9px" src="./letters_img/1_top/c.svg" alt="" />
                <img src="./letters_img/1_top/t.svg" alt="" style="height: 24px; top: 9px; right: 7px" />
                <img style="height: 22px; right: 16px; top: 9px" src="./letters_img/1_top/a.svg" alt="" />
                <img src="./letters_img/1_top/v.svg" style="right: 22px; top: 8px; height: 23px" alt="" />
                <img src="./letters_img/1_top/k.svg" style="height: 25px; right: 28px; top: 7px" alt="" />
                <img style="right: 34px; height: 26px; top: 4px" src="./letters_img/1_top/i.svg" alt="" />
            </div>
            <div class="card__imgPartbot">
                <img src="./letters_img/1_bot/n.svg" alt="" />
                <img style="top: 2px; width: 24px" src="./letters_img/1_bot/a.svg" alt="" />
                <img style="left: 12px; top: 5px" src="./letters_img/1_bot/c.svg" alt="" />
                <img style="left: 13px; top: 5px" src="./letters_img/1_bot/pp.svg" alt="" />
                <img style="left: 14px; width: 25px; top: 6px" src="./letters_img/1_bot/o.svg" alt="" />
                <img style="left: 14px; top: 6px" src="./letters_img/1_bot/p.svg" alt="" />
                <img style="left: 12px; width: 22px; top: 2px" src="./letters_img/1_bot/t.svg" alt="" />
                <img src="./letters_img/1_bot/__!.svg" style="height: 38px; left: 6px" alt="" />
            </div>
        </div>
        <!-- Chapter1 -->
        <!-- Chapter2 -->
        <div class="card__textCard card__textCard2">
            <div class="card__imgParttop">
                <img style="bottom: 15px" src="./letters_img/2_top/i.svg" alt="" />
                <img style="width: 16px; bottom: 10px" src="./letters_img/2_top/j.svg" alt="" />
                <img src="./letters_img/2_top/p_1.svg" alt="" />
                <img style="width: 27px; right: 7px; top: 4px" src="./letters_img/2_top/a.svg" alt="" />
                <img style="width: 22px; right: 8px; top: 5px" src="./letters_img/2_top/ii.svg" alt="" />
            </div>
            <div class="card__imgPartbot">
                <img src="./letters_img/2_top/b.svg" alt="" />
                <img style="left: 14px; top: 8px" src="./letters_img/2_top/p.svg" alt="" />
                <img style="left: 14px; top: 9px; width: 24px" src="./letters_img/2_top/o.svg" alt="" />
                <img style="left: 14px; top: 9px" src="./letters_img/2_top/k.svg" alt="" />
                <img style="left: 14px; top: 9px; width: 17px" src="./letters_img/2_top/e.svg" alt="" />
                <img style="
              left: 14px;
              top: 7px;

              width: 19px;
            " src="./letters_img/2_top/r.svg" alt="" />
                <img src="./letters_img/1_bot/__!.svg" style="height: 38px; left: 6px" alt="" />
            </div>
        </div>
        <!-- Chapter2 -->

        <!-- Chapter3 -->
        <div class="card__textCard card__textCard3">
            <div class="card__imgParttop">
                <img src="./letters_img/3/i1.svg" alt="" />
                <img style="top: 2px" src="./letters_img/3/C.svg" alt="" />
                <img style="top: 9px" src="./letters_img/3/P.svg" alt="" />
                <img style="width: 15px; top: 14px" src="./letters_img/3/bI.svg" alt="" />
                <img style="top: 15px" src="./letters_img/3/T.svg" alt="" />
                <img style="width: 14px; top: 18px; right: 4px" src="./letters_img/3/AAAAA.svg" alt="" />
                <img style="right: 5px; top: 19px; width: 14px" src="./letters_img/3/ik1.svg" alt="" />
                <img style="top: 18px; width: 13px" src="./letters_img/3/YY.svg" alt="" />
                <img style="width: 14px; top: 19px; right: 5px" src="./letters_img/3/D.svg" alt="" />
                <img style="width: 13px; right: 7px; top: 15px" src="./letters_img/3/AAA.svg" alt="" />
                <img style="right: 11px; top: 9px; width: 10px" src="./letters_img/3/CH.svg" alt="" />
                <img style="right: 13px; top: 5px" src="./letters_img/3/Y.svg" alt="" />
            </div>
            <div class="card__imgPartbot">
                <img style="width: 11px; right: 13px; bottom: 7px" src="./letters_img/3/B.svg" alt="" />
                <img style="width: 12.5px; top: 1px" src="./letters_img/3/O.svg" alt="" />
                <img style="width: 11px; top: 4px" src="./letters_img/3/H_2.svg" alt="" />
                <img style="top: 6px" src="./letters_img/3/L.svg" alt="" />
                <img style="top: 7px; width: 13px" src="./letters_img/3/A.svg" alt="" />
                <img style="top: 6px; width: 10px" src="./letters_img/3/ik2.svg" alt="" />
                <img style="width: 10px; top: 6px" src="./letters_img/3/H.svg" alt="" />
                <img style="width: 6px; bottom: 6px" src="./letters_img/3/tire.svg" alt="" />
                <img style="width: 9px; top: 3px" src="./letters_img/3/K.svg" alt="" />
                <img style="width: 11px; right: 3px; top: 2px" src="./letters_img/3/a-.svg" alt="" />
                <img style="width: 9px; right: 6px" src="./letters_img/3/Z.svg" alt="" />
                <img style="right: 7px; width: 9px; top: -3px" src="./letters_img/3/i-casino.svg" alt="" />
                <img style="width: 9px; right: 8px; top: -7px" src="./letters_img/3/H_1.svg" alt="" />
                <img style="top: -13px; right: 9px; width: 10px" src="./letters_img/3/OO.svg" alt="" />
                <img style="width: 3px; right: 10px; bottom: 17px" src="./letters_img/3/__!.svg" alt="" />
            </div>
        </div>
        <!-- Chapter3 -->

        <!-- <div class="card__textCard card__textCard3">
            <img src="./31.svg" alt="" /><img src="./32.svg" alt="" />
        </div>
        <div class="card__textCard card__textCard4">
            <img src="./41.svg" alt="" /><img src="./42.svg" alt="" />
        </div> -->
        <div class="link">www.europebet.by</div>
    </div>
    <script>
        const link = new Letterize({
            targets: ".link",
        });

        let changeNumber = 0;
        let status = "up";
        let numberSlide = 2;
        let textAnimationNumber = 0;

        class TimeMagic {
            constructor(speed) {
                this.accumulateTime = -1;
                this.lastTime = -1;
                this.speed = speed;
            }

            updateTime(t) {
                if (this.accumulateTime === -1) {
                    this.accumulateTime = t;
                } else {
                    const deltaT = t - this.lastTime;
                    this.accumulateTime += deltaT * this.speed;
                }

                this.lastTime = t;
            }

            updateSpeed(speed) {
                this.speed = speed;
            }

            getTime() {
                return this.accumulateTime;
            }
        }

        window.setTimeout(() => {
            const timeManager = new TimeMagic(1);

            const animation = anime({
                targets: ".card__image",
                easing: "easeInOutSine",
                loop: 3, //4
                direction: "normal",
                autoplay: true,
                duration: 800,
                delay: () => 4000,
                rotate: "1turn",
                update: function(anim) {
                    // if (Math.round(anim.progress) === 30) {
                    //     console.log('st');
                    //   textAnimations[textAnimationNumber].pause();
                    // }

                    if (Math.round(anim.progress) === 70) {
                        textAnimations[textAnimationNumber].reverse();
                        textAnimations[textAnimationNumber].play();
                    }

                    if (Math.round(anim.currentTime) >= 4400) {
                        if (numberSlide !== 5) {
                            document
                                .querySelector(".card__imgWrapper")
                                .classList.remove("logo");

                            document.querySelector(".card__image").src =
                                numberSlide === 4 ?
                                `./${numberSlide}.png` :
                                `./${numberSlide}.svg`;
                        } else {
                            document.querySelector(".card__image").src = "logo.svg";
                            document
                                .querySelector(".card__imgWrapper")
                                .classList.add("logo");
                        }
                    }
                },
                complete: function() {
                    textAnimations[4].play();
                },
                loopBegin: function() {
                    textAnimations[textAnimationNumber].restart();
                },
                loopComplete: function(...test) {
                    // textAnimations[textAnimationNumber].reverse();
                    // textAnimations[textAnimationNumber].play();
                    if (numberSlide === 5) {
                        numberSlide = 1;
                    } else {
                        numberSlide++;
                    }
                    textAnimationNumber++;
                    if (textAnimationNumber > 4) {
                        textAnimationNumber = 0;
                    }
                },
            });
            // --var3
            const textAnimations = [
                anime({
                    targets: [
                        ".card__textCard1 .card__imgParttop img",
                        ".card__textCard1 .card__imgPartbot img",
                    ],
                    easing: "easeOutQuart",
                    autoplay: false,
                    duration: 400,
                    opacity: [0, 12],
                    delay: function(el, i, l) {
                        return i * 50;
                    },
                    translateX: function(el, index) {
                        return [15, 0];
                    },
                    translateY: function(el, index) {
                        if (index <= 10) {
                            return [-20, 0];
                        } else {
                            return [20, 0];
                        }
                    },
                    direction: "easeInOutQuart",
                    // delay: 800,
                    complete: function(anim) {
                        // textAnimation2.play();
                        // textAnimations[textAnimationNumber].play();
                    },
                    update: function(anim) {},
                }),
                anime({
                    targets: [
                        ".card__textCard2 .card__imgParttop img",
                        ".card__textCard2 .card__imgPartbot img",
                    ],
                    easing: "easeOutQuart",
                    autoplay: false,
                    duration: 400,
                    opacity: [0, 12],
                    delay: function(el, i, l) {
                        return i * 50;
                    },
                    translateX: function(el, index) {
                        return [15, 0];
                    },
                    translateY: function(el, index) {
                        if (index <= 4) {
                            return [-10, 0];
                        } else {
                            return [20, 0];
                        }
                    },
                    direction: "easeInOutQuart",
                    // delay: 800,
                    complete: function(anim) {
                        // textAnimation2.play();
                        // textAnimations[textAnimationNumber].play();
                    },
                    update: function(anim) {},
                }),
                anime({
                    targets: [
                        ".card__textCard3 .card__imgParttop img",
                        ".card__textCard3 .card__imgPartbot img",
                    ],
                    easing: "easeOutQuart",
                    autoplay: false,
                    duration: 200,
                    opacity: [0, 12],
                    delay: function(el, i, l) {
                        return i * 30;
                    },
                    translateX: function(el, index) {
                        return [15, 0];
                    },
                    translateY: function(el, index) {
                        if (index <= 11) {
                            return [-10, 0];
                        } else {
                            return [20, 0];
                        }
                    },
                    direction: "easeInOutQuart",
                    // delay: 800,
                    complete: function(anim) {
                        // textAnimation2.play();
                        // textAnimations[textAnimationNumber].play();
                    },
                    update: function(anim) {
                        console.log('test');
                    },
                }),
                anime({
                    targets: ".card__textCard4 *",
                    easing: "easeInOutSine",
                    autoplay: false,
                    duration: 800,
                    opacity: [0, 5],
                    direction: "normal",

                    // endDelay: 1500,
                    translateX: function(...test) {
                        return [anime.random(-50, 50), 0];
                    },
                    translateY: function(...test) {
                        return [anime.random(-50, 50), 0];
                    },
                    delay: function(el, i, l) {
                        return i * 100;
                    },
                    // endDelay: 5000,
                    complete: function(anim) {
                        // textAnimation1.play();
                    },
                }),
                anime({
                    targets: ".link span",
                    easing: "easeInOutSine",
                    autoplay: false,
                    duration: 800,
                    opacity: [0, 0.6],
                    direction: "normal",
                    delay: anime.stagger(100),
                    translateX: function() {
                        return [anime.random(-50, 50), 0];
                    },
                    translateY: function() {
                        return [anime.random(-50, 50), 0];
                    },
                    easing: "easeInOutQuad",
                    // endDelay: 1500,
                    // endDelay: 5000,
                    complete: function(anim) {
                        // textAnimation1.play();
                    },
                }),
            ];
        });
    </script>
</body>

</html>